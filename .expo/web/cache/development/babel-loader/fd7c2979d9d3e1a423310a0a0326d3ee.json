{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { pokeAPI } from \"../../services/pokeAPI\";\nimport { Pokemon } from \"./components/Pokemon\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var Pokemons = function Pokemons() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      pokemons = _useState2[0],\n      setPokemons = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      search = _useState4[0],\n      setSearch = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pokemonsSearch = _useState6[0],\n      setPokemonsSearch = _useState6[1];\n\n  var getPokemons = function _callee() {\n    var _pokemons;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(pokeAPI.getPokemons());\n\n          case 3:\n            _pokemons = _context.sent;\n            setPokemons(_pokemons);\n            setPokemonsSearch(_pokemons);\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var searchPokemons = function searchPokemons(text) {\n    if (text) {\n      var newData = pokemonsSearch == null ? void 0 : pokemonsSearch.filter(function (item) {\n        var itemData = item.name;\n        var textData = text.toLowerCase();\n        return itemData.indexOf(textData) > -1;\n      });\n      setPokemons(newData);\n      setSearch(text);\n    } else {\n      getPokemons();\n      setSearch(text);\n    }\n  };\n\n  useEffect(function () {\n    getPokemons();\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Pokeapp\"\n    }), _jsx(TextInput, {\n      style: styles.search,\n      onChangeText: function onChangeText(text) {\n        return searchPokemons(text);\n      },\n      value: search,\n      placeholder: \"Search Here\",\n      underlineColorAndroid: \"transparent\"\n    }), _jsx(FlatList, {\n      data: pokemons,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(Pokemon, {\n          data: item\n        });\n      },\n      style: styles.list\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    paddingTop: 60\n  },\n  title: {\n    textAlign: \"center\",\n    fontSize: 32,\n    fontWeight: \"bold\"\n  },\n  list: {\n    padding: 16,\n    marginTop: 16\n  },\n  search: {\n    height: 50,\n    borderWidth: 1,\n    paddingLeft: 20,\n    margin: 5,\n    borderColor: \"#009688\",\n    backgroundColor: \"white\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","pokeAPI","Pokemon","Pokemons","pokemons","setPokemons","search","setSearch","pokemonsSearch","setPokemonsSearch","getPokemons","console","error","searchPokemons","text","newData","filter","item","itemData","name","textData","toLowerCase","indexOf","styles","container","title","list","StyleSheet","create","paddingTop","textAlign","fontSize","fontWeight","padding","marginTop","height","borderWidth","paddingLeft","margin","borderColor","backgroundColor"],"sources":["D:/1. рабочий стол диск C/учеба/мобилки/lab3/my-app/features/Pokemons/Pokemons.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { FlatList, Text, TextInput, View, StyleSheet } from \"react-native\";\r\nimport { pokeAPI } from \"../../services/pokeAPI\";\r\nimport { PokemonShortInfo } from \"../../types/Pokemon\";\r\nimport { Pokemon } from \"./components/Pokemon\";\r\n\r\nexport const Pokemons: React.FC = () => {\r\n  const [pokemons, setPokemons] = useState<PokemonShortInfo[]>();\r\n  const [search, setSearch] = useState('');\r\n  const [pokemonsSearch, setPokemonsSearch] = useState<PokemonShortInfo[]>();\r\n\r\n  const getPokemons = async () => {\r\n    try {\r\n      const pokemons = await pokeAPI.getPokemons();\r\n      setPokemons(pokemons);\r\n      setPokemonsSearch(pokemons);\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const searchPokemons = (text: string) => {\r\n    if (text) {\r\n      const newData = pokemonsSearch?.filter(\r\n        function (item) {\r\n          const itemData = item.name\r\n          const textData = text.toLowerCase();\r\n          return itemData.indexOf(textData) > -1;\r\n        })\r\n        setPokemons(newData);\r\n        setSearch(text);\r\n    } else {\r\n      getPokemons();\r\n      setSearch(text);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPokemons();\r\n  }, []);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>Pokeapp</Text>\r\n      <TextInput\r\n        style={styles.search}\r\n        onChangeText={(text) => searchPokemons(text)}\r\n        value={search}\r\n        placeholder=\"Search Here\"\r\n        underlineColorAndroid=\"transparent\"\r\n      />\r\n      <FlatList\r\n        data={pokemons}\r\n        renderItem={({ item }) => (\r\n          <Pokemon data={item} />\r\n        )}\r\n        style={styles.list}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    paddingTop: 60,\r\n  },\r\n  title: {\r\n    textAlign: \"center\",\r\n    fontSize: 32,\r\n    fontWeight: \"bold\",\r\n  },\r\n  list: {\r\n    padding: 16,\r\n    marginTop: 16,\r\n  },\r\n  search: {\r\n    height: 50,\r\n    borderWidth: 1,\r\n    paddingLeft: 20,\r\n    margin: 5,\r\n    borderColor: \"#009688\",\r\n    backgroundColor: \"white\",\r\n\r\n  },\r\n});\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;;AAEA,SAASC,OAAT;AAEA,SAASC,OAAT;;;AAEA,OAAO,IAAMC,QAAkB,GAAG,SAArBA,QAAqB,GAAM;EACtC,gBAAgCH,QAAQ,EAAxC;EAAA;EAAA,IAAOI,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAA4BL,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOM,MAAP;EAAA,IAAeC,SAAf;;EACA,iBAA4CP,QAAQ,EAApD;EAAA;EAAA,IAAOQ,cAAP;EAAA,IAAuBC,iBAAvB;;EAEA,IAAMC,WAAW,GAAG;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,iCAEOT,OAAO,CAACS,WAAR,EAFP;;UAAA;YAEVN,SAFU;YAGhBC,WAAW,CAACD,SAAD,CAAX;YACAK,iBAAiB,CAACL,SAAD,CAAjB;YAJgB;YAAA;;UAAA;YAAA;YAAA;YAOhBO,OAAO,CAACC,KAAR;;UAPgB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAApB;;EAWA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAkB;IACvC,IAAIA,IAAJ,EAAU;MACR,IAAMC,OAAO,GAAGP,cAAH,oBAAGA,cAAc,CAAEQ,MAAhB,CACd,UAAUC,IAAV,EAAgB;QACd,IAAMC,QAAQ,GAAGD,IAAI,CAACE,IAAtB;QACA,IAAMC,QAAQ,GAAGN,IAAI,CAACO,WAAL,EAAjB;QACA,OAAOH,QAAQ,CAACI,OAAT,CAAiBF,QAAjB,IAA6B,CAAC,CAArC;MACD,CALa,CAAhB;MAMEf,WAAW,CAACU,OAAD,CAAX;MACAR,SAAS,CAACO,IAAD,CAAT;IACH,CATD,MASO;MACLJ,WAAW;MACXH,SAAS,CAACO,IAAD,CAAT;IACD;EACF,CAdD;;EAgBAf,SAAS,CAAC,YAAM;IACdW,WAAW;EACZ,CAFQ,EAEN,EAFM,CAAT;EAIA,OACE,MAAC,IAAD;IAAM,KAAK,EAAEa,MAAM,CAACC,SAApB;IAAA,WACE,KAAC,IAAD;MAAM,KAAK,EAAED,MAAM,CAACE,KAApB;MAAA;IAAA,EADF,EAEE,KAAC,SAAD;MACE,KAAK,EAAEF,MAAM,CAACjB,MADhB;MAEE,YAAY,EAAE,sBAACQ,IAAD;QAAA,OAAUD,cAAc,CAACC,IAAD,CAAxB;MAAA,CAFhB;MAGE,KAAK,EAAER,MAHT;MAIE,WAAW,EAAC,aAJd;MAKE,qBAAqB,EAAC;IALxB,EAFF,EASE,KAAC,QAAD;MACE,IAAI,EAAEF,QADR;MAEE,UAAU,EAAE;QAAA,IAAGa,IAAH,QAAGA,IAAH;QAAA,OACV,KAAC,OAAD;UAAS,IAAI,EAAEA;QAAf,EADU;MAAA,CAFd;MAKE,KAAK,EAAEM,MAAM,CAACG;IALhB,EATF;EAAA,EADF;AAmBD,CAvDM;AAyDP,IAAMH,MAAM,GAAGI,UAAU,CAACC,MAAX,CAAkB;EAC/BJ,SAAS,EAAE;IACTK,UAAU,EAAE;EADH,CADoB;EAI/BJ,KAAK,EAAE;IACLK,SAAS,EAAE,QADN;IAELC,QAAQ,EAAE,EAFL;IAGLC,UAAU,EAAE;EAHP,CAJwB;EAS/BN,IAAI,EAAE;IACJO,OAAO,EAAE,EADL;IAEJC,SAAS,EAAE;EAFP,CATyB;EAa/B5B,MAAM,EAAE;IACN6B,MAAM,EAAE,EADF;IAENC,WAAW,EAAE,CAFP;IAGNC,WAAW,EAAE,EAHP;IAINC,MAAM,EAAE,CAJF;IAKNC,WAAW,EAAE,SALP;IAMNC,eAAe,EAAE;EANX;AAbuB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}